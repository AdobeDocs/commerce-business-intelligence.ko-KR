---
title: 복제 방법 구성
description: 테이블 구성 방법과 테이블 데이터 동작 방법을 통해 테이블에 가장 적합한 복제 방법을 선택할 수 있습니다.
exl-id: 83895c48-a6ec-4b01-9890-164e0b21dcbc
source-git-commit: 03a5161930cafcbe600b96465ee0fc0ecb25cae8
workflow-type: tm+mt
source-wordcount: '1455'
ht-degree: 0%

---

# 복제 방법 구성

`Replication` 메서드 및 [재검사](../data-warehouse-mgr/cfg-data-rechecks.md) 는 데이터베이스 테이블에서 새 데이터나 업데이트된 데이터를 식별하는 데 사용됩니다. 올바로 설정하는 것은 데이터 정확성과 최적화된 업데이트 시간을 모두 보장하는 데 중요합니다. 이 문서에서는 복제 방법에만 초점을 맞추고 있습니다.

Data Warehouse 관리자에서 새 테이블이 동기화되면 테이블에 대해 복제 방법이 자동으로 선택됩니다. 다양한 복제 방법, 테이블 구성 방법 및 테이블 데이터 동작 방식을 이해하면 테이블에 가장 적합한 복제 방법을 선택할 수 있습니다.

## 복제 방법이란 무엇입니까?

`Replication` 방법은 세 가지 그룹에 속합니다. `Incremental`, `Full Table`, 및 `Paused`.

[**[!UICONTROL Incremental Replication]**](#incremental) 즉 [!DNL MBI] 복제 시도마다 새 데이터나 업데이트된 데이터만 복제됩니다. 이러한 방법은 지연을 크게 줄이므로 가능한 한 사용하는 것이 좋습니다.

[**[!UICONTROL Full Table Replication]**](#fulltable) 즉 [!DNL MBI] 복제 시도마다 테이블의 전체 컨텐츠를 복제하게 됩니다. 복제할 데이터가 많기 때문에 이러한 방법을 사용하면 지연 및 업데이트 시간이 늘어날 수 있습니다. 테이블에 타임스탬프가 지정된 열이나 datetime 열이 있으면 대신 Incremental 메서드를 사용하는 것이 좋습니다.

**[!UICONTROL Paused]** 테이블에 대한 복제가 중지되었거나 일시 중지되었음을 나타냅니다. [!DNL MBI] 업데이트 주기 동안 새 데이터나 업데이트된 데이터를 확인하지 않습니다. 즉, 이 데이터가 복제 방법으로 있는 테이블에서 복제되지 않습니다.

## 증분 복제 방법 {#incremental}

### 수정 시기(가장 이상)

다음 `Modified At` 복제 방법은 행이 생성될 때 채워지고 데이터가 변경되면 업데이트되는 datetime 열을 사용하여 복제할 데이터를 찾습니다. 이 메서드는 다음 기준을 충족하는 테이블을 사용하도록 설계되었습니다.

* 다음 포함 `datetime` 행을 만들 때 처음에 채워지고 행이 수정될 때마다 업데이트됩니다.
* a `datetime` 열은 null이 아닙니다.
* 행이 테이블에서 삭제되지 않습니다

이러한 기준 외에도 매우 추천합니다 **색인 지정** a `datetime` 에 사용된 열 `Modified At` 복제 속도를 최적화하는 데 도움이 되므로

업데이트가 실행되면에서 값이 있는 행을 검색하여 신규 또는 변경된 데이터를 식별합니다 `datetime` 최신 업데이트 후 발생한 열입니다. 새 행이 검색되면 Data Warehouse에 복제됩니다. Data Warehouse에 이미 있는 행이 있으면 현재 데이터베이스 값으로 해당 행을 덮어씁니다.

예를 들어, 테이블에 `modified\_at` 이는 마지막으로 데이터가 변경된 시간을 나타냅니다. 가장 최근 업데이트가 화요일 정오에 실행된 경우 업데이트는 `modified\_at` 값은 화요일 정오 보다 큼. 화요일 정오 이후에 만들거나 수정한 모든 검색된 행은 Data Warehouse에 복제됩니다.

**알고 있었어?**
데이터베이스가 현재 `Incremental` 복제 방법을 사용하면 [데이터베이스를 일부 변경합니다.](../../best-practices/mod-db-inc-replication.md) 이렇게 하면 `Modified At` 또는 `Single Auto Incrementing PK`.

`Modified At` 는 가장 이상적인 복제 방법일 뿐만 아니라 가장 빠른 복제 방법입니다. 이 방법을 사용하면 대용량 데이터 세트에서 눈에 띄는 속도 증가를 생성할 뿐만 아니라 재확인 옵션을 구성할 필요가 없습니다. 일부 데이터의 하위 세트가 변경되었더라도 전체 테이블을 반복하여 변경 사항을 식별해야 합니다. `Modified At` 그 작은 부분집합만 반복합니다.

### 단일 자동 증분 기본 키

`Auto Incrementing` 는 행에 기본 키를 순차적으로 할당하는 동작입니다. 테이블이 `Auto Incrementing` 그리고 테이블의 가장 높은 기본 키는 현재 1000이고, 그 다음 기본 값은 1001 이상이 됩니다. 를 사용하지 않는 표 `Auto Incrementing` 비헤이비어는 기본 키 값이 1000보다 작거나 더 큰 수로 이동할 수 있지만 일반적으로 사용되지 않습니다.

이 메서드는 다음 기준을 충족하는 테이블에서 새 데이터를 복제하도록 설계되었습니다.

* `single-column primary key`; 및
* `primary key` 데이터 형식 `integer`; 및
* `auto incrementing` 기본 키 값.

테이블이 `Single Auto Incrementing Primary Key` 복제하면 Data Warehouse에서 현재 가장 높은 값보다 높은 기본 키 값을 검색하여 새 데이터가 검색됩니다. 예를 들어 Data Warehouse에서 가장 높은 기본 키 값이 500인 경우 다음 업데이트가 실행되면 기본 키 값이 501 이상인 행을 검색합니다.

### 날짜 추가

다음 `Add Date` 메서드는 다음과 유사하게 작동합니다 `Single Auto Incrementing Primary Key` 메서드를 사용합니다. 테이블의 기본 키에 대해 정수를 사용하는 대신 이 메서드는 `timestamped` 열을 눌러 새 행을 확인합니다.

테이블에서 `Add Date` 복제에서 Data Warehouse에 동기화된 최신 날짜보다 큰 타임스탬프가 지정된 값을 검색하면 새 데이터가 검색됩니다. 예를 들어 20/12/2015 09에서 업데이트가 마지막으로 실행된 경우:00:00 이상의 타임스탬프가 있는 모든 행은 새 데이터로 표시되고 복제됩니다.

>[!NOTE]
>
>와 달리 `Modified At` 메서드, `Add Date` 기존 행에 업데이트된 정보가 있는지 확인하지 않습니다. 새 행만 보입니다.

## 전체 테이블 복제 방법 {#fulltable}

### 전체 테이블

`Full table` 복제에서는 새 행이 검색될 때마다 전체 테이블을 새로 고칩니다. 새로운 행이 있다고 가정할 경우 모든 업데이트 중에 모든 데이터를 재처리해야 하므로 이 방법은 가장 효율적인 복제 방법이 아닙니다.

새 행은 동기화 프로세스가 시작될 때 데이터베이스를 쿼리하고 행 수를 계산하여 감지됩니다. 로컬 데이터베이스에 보다 많은 행이 있는 경우 [!DNL MBI]를 활성화하면 테이블이 새로 고침됩니다. 행 수가 동일하거나 [!DNL MBI] 다음 포함 *자세히* 로컬 데이터베이스보다 행을 먼저 수행한 다음 테이블을 건너뜁니다.

이것은 다음과 같은 중요한 점을 증가시킨다 **`Full Table`다음 경우에 복제가 호환되지 않습니다.**

* 이후 업데이트 주기 간에 로컬 데이터베이스 테이블에 생성된 것보다 더 많은 행이 삭제되거나
* 열 값이 변경되지만 추가 행이 만들어지지 않습니다

위의 시나리오 중 하나에서 `Full Table` 복제는 변경 사항을 감지하지 않으며 데이터가 사용되지 않습니다. 이 복제 방법의 비효율성 및 위에 언급된 요구 사항 때문에 `Full Table` 복제는 마지막 수단으로만 권장됩니다.

### 기본 키 배치

테이블에서 `Primary Key Batch` (PK 일괄 처리), 기본 키 값의 범위 또는 배치 내의 행을 계산하여 새 데이터를 검색합니다. 일반적으로 이 값이 정수와 함께 사용된다고 생각하지만, 텍스트 값이라도 시스템이 상수 범위를 정의할 수 있는 방식으로 정렬할 수 있습니다.

예를 들어 업데이트가 실행되고 1부터 100까지의 키 범위에 대해 행 수를 수행한다고 가정해 보겠습니다. 이 업데이트에서는 시스템이 37개의 행을 찾아 기록합니다. 다음 업데이트에서는 1-100 범위에 대해 행 수가 다시 수행되고 41개의 행을 찾습니다. 마지막 업데이트와 비교하여 행 수에 차이가 있으므로 시스템에서 해당 범위(또는 배치)를 보다 자세히 검사합니다.

이 방법은 다음 기준을 충족하는 테이블에서 데이터를 복제하기 위한 것입니다.

* 단일 열이 아닌 정수; 또는
* 복합 키(기본 키를 포함하는 여러 열) - 복합 기본 키에 사용되는 열에는 null 값을 사용할 수 없습니다. 또는
* 단일 열, 정수, 기본 키 값을 자동으로 증분 되지 않은 경우

배치를 검사하고 변경 사항을 찾기 위해 발생해야 하는 처리 양에 따라 이 방법이 매우 느리므로 이 방법은 이상적입니다. 다른 복제 메서드를 지원하는 데 필요한 수정 작업을 수행할 수 없는 경우에는 이 메서드를 사용하지 않는 것이 좋습니다. 이 메서드를 사용해야 하는 경우 업데이트 시간이 증가할 것으로 예상합니다.

## 복제 메서드 설정

복제 방법은 테이블별로 설정됩니다. 테이블에 대한 복제 방법을 설정하려면 [`Admin`](../../administrator/user-management/user-management.md) Data Warehouse 관리자에 액세스할 수 있는 권한 .

1. Data Warehouse 관리자에서 테이블을 선택합니다 `Synced Tables` 테이블의 스키마를 표시할 목록입니다.
1. 현재 복제 방법은 테이블 이름 아래에 나열됩니다. 변경하려면 링크를 클릭합니다.
1. 표시되는 팝업에서 다음 중 하나 옆에 있는 라디오 단추를 클릭합니다 `Incremental` 또는 `Full Table` 복제 유형을 선택하는 복제입니다.
1. 그런 다음 **[!UICONTROL Replication Method]** 드롭다운을 사용하여 메서드를 선택합니다. 예를 들면 다음과 같습니다. `Paused` 또는 `Modified At`.

   >[!NOTE]
   >
   >**일부 증분 방법에서는`Replication Key`**. [!DNL MBI] 은 이 키를 사용하여 다음 업데이트 주기를 시작할 위치를 결정합니다.
   >
   >예를 들어 `modified at` 우리의 방법 `orders` 테이블, 우린 `date column` 복제 키로 사용됩니다. 복제 키에 대한 몇 가지 옵션이 있을 수 있지만 `created at`또는 주문을 만든 시간입니다. 마지막 업데이트 주기가 12/1/2015 00에서 중지된 경우:10:00 이 되면 다음 주기 동안 `created at` 날짜보다 큼.

1. 완료되면 를 클릭합니다 **[!UICONTROL Save]**.

전체 프로세스를 살펴보십시오.

![](../../assets/replication_method.gif)<!--{: width="801" height="341"}-->

## 포장

마지막으로, 다양한 복제 방법을 비교하는 이 표를 정리했습니다. Data Warehouse에서 표에 대한 방법을 선택하면 매우 편리합니다.

| **`Method`** | **`Syncing New Data`** | **`Processing Rechecks on Large Data Sets`** | **`Handle Composite Keys?`** | **`Handle Non-Integer PKs?`** | **`Handle Non-Sequential PK Population?`** | **`Handle Row Deletion?`** |
|-----|-----|-----|-----|-----|-----|-----|
| `Auto-Incrementing Primary Key` | 더 빠름 | 느림 | 아니요 | 아니요 | 아니요 | 예 |
| `Primary Key Batch Monitoring` | 느림 | 느림 | 예 | 예 | 예 | 예 |
| `Modified At` | 더 빠름 | 더 빠름 | 예 | 예 | 예 | 아니요 |

{style=&quot;table-layout:auto&quot;}

## 관련 설명서

* [데이터 재검사 이해](../data-warehouse-mgr/cfg-data-rechecks.md)
* [지원을 위해 데이터베이스 수정 ](../../best-practices/mod-db-inc-replication.md)
* [분석을 위한 데이터베이스 최적화](../../best-practices/opt-db-analysis.md)
* [업데이트 시간 단축](../../best-practices/reduce-update-cycle-time.md)
