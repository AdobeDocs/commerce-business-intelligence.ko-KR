---
title: 사용자 이해 [!DNL MBI] 환경
description: 작업 및 개선에 대해 알아보기 [!DNL MBI] 환경.
exl-id: 601b5fba-da02-4cc8-96ed-147c24f326f9
source-git-commit: fa954868177b79d703a601a55b9e549ec1bd425e
workflow-type: tm+mt
source-wordcount: '780'
ht-degree: 0%

---

# 사용자 [!DNL MBI] 환경

상거래 데이터를 분석할 때 이러한 요인과 일반적인 오해를 인식하십시오. 상거래 스키마를 올바로 사용하고 있는지 확인하는 데 도움이 필요한 경우 망설이지 마십시오 [연락처 지원](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/troubleshooting/miscellaneous/mbi-service-policies.html?lang=en).

## [!DNL entity\_id]

많은 테이블에 이름이 지정된 열이 있습니다 `entity\_id`. 를 포함하는 각 테이블에서 `entity\_id`로 지정하는 경우 해당 열이 고유한 행을 식별하는 데 사용됩니다.

예를 들어 `sales\_order` 표는 고유한 순서입니다. 이 테이블의 기본 키를 `entity\_id`. 이 열은 `order\_id`. 별도의 테이블에서 `customer\_entity`, 각 행은 고유한 고객을 나타냅니다. 이 테이블의 기본 키도 `entity\_id`로 간주할 수 있습니다. `customer\_id`.

그 테이블에 `sales\_order.entity\_id` 다음과 같지 않음 `customer\_entity.entity\_id`. 이 값은 를 포함하는 모든 테이블 세트에 대해 true입니다 `entity\_id`: `table\_A.entity\_id` 다음과 같지 않음 `table\_B.entity\_id`.

## [!DNL Guest orders]

고객이 계정(게스트 주문)을 가지고 있지 않고 사이트에서 주문을 하도록 허용하는 경우, 이러한 고객은 자신의 행으로 채워지지 않습니다 `customer\_entity` 테이블. 또한 고객이 수행한 각 주문에는 null이 있습니다 `customer\_id` 값 `sales\_order` 테이블.

따라서 시간이 지남에 따라 게스트의 행동을 추적하려면 모든 고객 수준 열을 `sales\_order` 표, 다음과 같은 고객 식별자 사용 `customer\_email`.

를 활용하는 경우 `sales\_order` 표 를 고객 표로 만든 다음 고객 수준 지표를 만들 때에는 주의해야 합니다. 예를 들어 평균 라이프타임 매출 지표를 고려해 보십시오. 이 지표는 고객 기반의 평균 라이프타임 매출을 식별하는 데 사용됩니다. 먼저 각 고객에 대해 라이프타임 매출을 반환하는 새 열이 필요합니다. 그런 다음 이 열의 평균을 계산하여 고객의 평균 라이프타임 매출을 달성해야 합니다.

를 사용할 수 있는 경우 `customer\_entity` 표, 각 행은 단일 고객이며, 각 고객은 해당 테이블에 한 번만 있습니다. 따라서 라이프타임 매출 열이 있는 경우 평균 지표를 만들면 됩니다. 그러나 `sales\_order` 테이블을 고객 테이블로 사용하면 고객이 여러 행에 존재할 수 있습니다. 라이프타임 수입 열을 설정한 후에는 지정된 고객이 수행한 각 주문(행)에 고객의 라이프타임 매출이 표시됩니다. 그러나 전체 평균 지표에 해당 고객을 한 번만 포함시켜야 합니다.

여기에서는 각 고객을 한 번만 포함하도록 지표에 필터를 추가해야 합니다. 다음 필터를 만들고 사용할 것을 권장합니다. **Adobe가 계산하는 고객** 다음에 대해 **고객의 주문 번호 = 1** (여러 필터 중에서 원하지 않는 고객을 제외해야 할 수 있습니다.) 이 필터를 추가하면 각 고객을 고객 수준 지표에 한 번만 포함할 수 있습니다.

## 제품 및 카테고리

제품에는 여러 카테고리가 있을 수 있으며, 카테고리는 두 개 이상의 제품에 사용할 수 있습니다. 따라서 카테고리 수준 분석을 설정할 때 올바른 정의를 사용하도록 주의해야 합니다. 최상위 카테고리를 원하십니까? 두 번째 수준 카테고리요? 제품이 여러 최상위 카테고리에 포함될 수 있는 경우에는 어떻게 해야 합니까?

상거래 구현에 의해 정의된 대로 세 가지 카테고리 수준으로 떨어지는 청바지 쌍을 상상하십시오. &#39;Clothing&#39;(최상위 수준), &#39;Outerwear&#39;(두 번째 수준), &#39;Pants&#39;(세 번째 수준). 판매된 단위 수만큼 카테고리 성과를 분석할 수 있습니다. 이 분석에 필요한 지표는 다음과 같습니다 _판매된 품목_: `sales\_order\_item` 테이블. 따라서 범주 수준 정보를 항목 테이블로 이동해야 합니다. 각 행은 `sales\_order\_item` 테이블에는 관련 항목이 있습니다. `product\_id`따라서 제품과 연관된 카테고리를 알고 있는 경우 해당 정보를 원하는 테이블로 가져올 수 있습니다.

데이터를 이동하기 전에 올바른 조인과 필터를 알고 있어야 올바른 카테고리를 선택할 수 있습니다. 어떤 분석에서는 &#39;바지&#39;를 알아야 할 수도 있지만, 다른 분석에서는 &#39;옷&#39;이 더 적절할 수도 있다. 이러한 카테고리는 별도로 식별되는 고유 카테고리입니다. 각 범주 레벨이 정의된 방식을 알면 특정 분석에 적합한 범주에 단위 판매를 지정할 수 있습니다.

이제 웹 사이트의 홈 페이지에 &#39;즐겨찾기&#39; 최상위 수준 카테고리가 있다고 가정해 보겠습니다. 아마도 &#39;Clothing&#39; 카테고리와 &#39;Adobe Favorites&#39; 카테고리에 이 청바지를 포함하도록 커머스 스토어를 구현했을 것입니다. 그렇다면 이 청바지는 두 개 이상의 최상위 등급의 제품을 가질 수 있습니다. 이 경우 단일 최상위 수준 카테고리를 로 이동합니다 `sales\_order\_item` 여러 옵션이 있으므로 표를 사용하는 것은 적절하지 않습니다. 이를 위해 특정 카테고리를 확인하는 예/아니요 열을 만드는 것이 좋습니다. 예, `Is product in Clothing category?` 및 `Is product in Our Favorites category?` 열을 사용하면 제품이 특정 카테고리에 포함되는지 확인할 수 있습니다.
